/**
 * angular-strap
 * @version v2.2.4 - 2015-06-07
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes <olivier@mg-crea.com> (https://github.com/mgcrea)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
'use strict';angular.module('mgcrea.ngStrap.affix',['mgcrea.ngStrap.helpers.dimensions','mgcrea.ngStrap.helpers.debounce']).provider('$affix',function(){var t=this.defaults={offsetTop:'auto',inlineStyles:!0};this.$get=['$window','debounce','dimensions',function(e,o,n){function i(i,f){function r(t,e,o){var n=c(),i=a();return v>=n?'top':null!==t&&n+t<=e.top?'middle':null!==P&&e.top+o+m>=i-P?'bottom':'middle'}function c(){return p[0]===e?e.pageYOffset:p[0].scrollTop}function a(){return p[0]===e?e.document.body.scrollHeight:p[0].scrollHeight}var l={},u=angular.extend({},t,f),p=u.target,d='affix affix-top affix-bottom',h=!1,m=0,g=0,v=0,P=0,$=null,T=null,x=i.parent();if(u.offsetParent)if(u.offsetParent.match(/^\d+$/))for(var b=0;b<1*u.offsetParent-1;b++)x=x.parent();else x=angular.element(u.offsetParent);return l.init=function(){g=n.offset(i[0]).top+m,h=!i[0].style.width,p.on('scroll',this.checkPosition),p.on('click',this.checkPositionWithEventLoop),s.on('resize',this.$debouncedOnResize),this.checkPosition(),this.checkPositionWithEventLoop()},l.destroy=function(){p.off('scroll',this.checkPosition),p.off('click',this.checkPositionWithEventLoop),s.off('resize',this.$debouncedOnResize)},l.checkPositionWithEventLoop=function(){setTimeout(l.checkPosition,1)},l.checkPosition=function(){l.$parseOffsets();var t=c(),e=n.offset(i[0]),o=n.height(i[0]),s=r(T,e,o);$!==s&&($=s,i.removeClass(d).addClass('affix'+('middle'!==s?'-'+s:'')),'top'===s?(T=null,h&&i.css('width',''),u.inlineStyles&&(i.css('position',u.offsetParent?'':'relative'),i.css('top',''))):'bottom'===s?(T=u.offsetUnpin?-(1*u.offsetUnpin):e.top-t,h&&i.css('width',''),u.inlineStyles&&(i.css('position',u.offsetParent?'':'relative'),i.offset({top:u.offsetParent?'':a()-P-o}))):(T=null,h&&i.css('width',i[0].offsetWidth+'px'),u.inlineStyles&&(i.css('position','fixed'),i.css('top',m+'px'))))},l.$onResize=function(){l.$parseOffsets(),l.checkPosition()},l.$debouncedOnResize=o(l.$onResize,50),l.$parseOffsets=function(){var t=i.css('position');u.inlineStyles&&i.css('position',u.offsetParent?'':'relative'),u.offsetTop&&('auto'===u.offsetTop&&(u.offsetTop='+0'),u.offsetTop.match(/^[-+]\d+$/)?(m=1*-u.offsetTop,v=u.offsetParent?n.offset(x[0]).top+1*u.offsetTop:n.offset(i[0]).top-n.css(i[0],'marginTop',!0)+1*u.offsetTop):v=1*u.offsetTop),u.offsetBottom&&(P=u.offsetParent&&u.offsetBottom.match(/^[-+]\d+$/)?a()-(n.offset(x[0]).top+n.height(x[0]))+1*u.offsetBottom+1:1*u.offsetBottom),u.inlineStyles&&i.css('position',t)},l.init(),l}var s=(angular.element(e.document.body),angular.element(e));return i}]}).directive('bsAffix',['$affix','$window',function(t,e){return{restrict:'EAC',require:'^?bsAffixTarget',link:function(o,n,i,s){var f={scope:o,target:s?s.$element:angular.element(e)};angular.forEach(['offsetTop','offsetBottom','offsetParent','offsetUnpin','inlineStyles'],function(t){if(angular.isDefined(i[t])){var e=i[t];/true/i.test(e)&&(e=!0),/false/i.test(e)&&(e=!1),f[t]=e}});var r=t(n,f);o.$on('$destroy',function(){r&&r.destroy(),f=null,r=null})}}}]).directive('bsAffixTarget',function(){return{controller:['$element',function(t){this.$element=t}]}});
//# sourceMappingURL=../modules/affix.min.js.map